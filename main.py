from collision.rect import (  # Импорт функций для работы с прямоугольниками из модуля collision.rect
    isCorrectRect, isCollisionRect,  # Функции для проверки корректности и столкновения прямоугольников
    intersectionAreaRect, intersectionAreaMultiRect  # Функции для вычисления площади пересечения
) 
from collision.errors import RectCorrectError  # Импорт пользовательского исключения для ошибок с прямоугольниками

def main():
    print("Программа для работы с прямоугольниками")  # Сообщение о запуске программы

    rect1 = [  # Создание первого прямоугольника на основе пользовательского ввода
        tuple(map(float, input("Введите координаты левого нижнего угла первого прямоугольника (x y): ").split())),  # Ввод координат нижнего левого угла, преобразование в кортеж чисел
        tuple(map(float, input("Введите координаты правого верхнего угла первого прямоугольника (x y): ").split()))   # Ввод координат верхнего правого угла, преобразование в кортеж чисел
    ]

    rect2 = [  # Создание второго прямоугольника аналогично
        tuple(map(float, input("Введите координаты левого нижнего угла второго прямоугольника (x y): ").split())),  # Ввод и преобразование
        tuple(map(float, input("Введите координаты правого верхнего угла второго прямоугольника (x y): ").split()))   # Ввод и преобразование
    ]

    print(f"Корректность первого прямоугольника: {isCorrectRect(rect1)}")  # Проверка корректности первого прямоугольника и вывод результата
    print(f"Корректность второго прямоугольника: {isCorrectRect(rect2)}")  # Проверка второго и вывод

    try:
        print(f"Пересекаются ли прямоугольники: {isCollisionRect(rect1, rect2)}")  # Проверка столкновения и вывод
        print(f"Площадь пересечения: {intersectionAreaRect(rect1, rect2)}")  # Вычисление площади пересечения и вывод
    except RectCorrectError as e:  # Обработка ошибки некорректных прямоугольников
        print(f"Ошибка: {e}")
    except ValueError as e:  # Обработка ошибок преобразования типов или других ошибок
        print(f"Ошибка: {e}")

    rectangles = [rect1, rect2]  # Создание списка прямоугольников для дальнейших расчетов
    try:
        print(f"Уникальная площадь пересечения всех прямоугольников: {intersectionAreaMultiRect(rectangles)}")  # Обчисление площади пересечения всех прямоугольников
    except RectCorrectError as e:  # Обработка ошибок некорректных прямоугольников
        print(f"Ошибка: {e}")

if __name__ == "__main__":
    main()  # Вызов главной функции при запуске скрипта

